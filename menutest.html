<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV-Dateien Auswahl und Anzeige</title>
</head>
<body>
    <h1>Wähle eine CSV-Datei aus</h1>

    <!-- Auswahl der CSV-Dateien -->
    <select id="csvSelect" onchange="loadCSV()">
        <option value="">CSV-Datei auswählen</option>
        <option value="Caesars_Bellum_Gallicum_I.csv">Caesars Bellum Gallicum I</option>
        <option value="Caesars_Bellum_Gallicum_II.csv">Caesars Bellum Gallicum II</option>
        <option value="Caesars_Bellum_Gallicum_III.csv">Caesars Bellum Gallicum III</option>
    </select>

    <div id="csvContent">
        <!-- Hier werden die Spalten der CSV-Datei angezeigt -->
    </div>

    <script>
        // Funktion zum Laden und Verarbeiten der CSV-Datei
        async function loadCSV() {
            const select = document.getElementById('csvSelect');
            const selectedFile = select.value;

            // URLs der CSV-Dateien
            const csvFiles = {
                'Caesars_Bellum_Gallicum_I.csv': 'https://raw.githubusercontent.com/nickclass007/Navis-Salutaris/main/Woerter/LW1.csv',
                'Caesars_Bellum_Gallicum_II.csv': 'https://raw.githubusercontent.com/nickclass007/Navis-Salutaris/main/Woerter/Caesars_Bellum_Gallicum/Caesars_Bellum_Gallicum_II.csv',
                'Caesars_Bellum_Gallicum_III.csv': 'https://raw.githubusercontent.com/nickclass007/Navis-Salutaris/main/Woerter/Caesars_Bellum_Gallicum/Caesars_Bellum_Gallicum_III.csv'
            };

            // Wenn keine Datei ausgewählt wurde, nichts anzeigen
            if (!selectedFile) {
                document.getElementById('csvContent').innerHTML = '';
                return;
            }

            try {
                // CSV-Daten von der ausgewählten URL holen
                const response = await fetch(csvFiles[selectedFile]);
                const csvText = await response.text();

                // CSV-Text in Zeilen aufteilen
                const rows = csvText.split('\n');
                let result = '<h2>Ausgewählte Spalten:</h2><ul>';

                // Für jede Zeile, die Spalte 1 und 3 extrahieren und anzeigen
                for (let i = 1; i < rows.length; i++) {  // i=1 um die Kopfzeile zu überspringen
                    const columns = rows[i].split(',');
                    if (columns.length >= 3) {
                        result += `<li>${columns[0]} - ${columns[2]}</li>`;
                    }
                }

                result += '</ul>';

                // Das Ergebnis in das HTML-Dokument einfügen
                document.getElementById('csvContent').innerHTML = result;

            } catch (error) {
                console.error("Fehler beim Laden der CSV-Datei:", error);
                document.getElementById('csvContent').innerHTML = '<p>Es gab einen Fehler beim Laden der Datei.</p>';
            }
        }
    </script>
</body>
</html>
